<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Mi App{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Menú principal -->
  <nav class="bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4">
      <ul class="flex items-center space-x-6">

        {% if session.user_id %}
          <!-- Secciones protegidas -->
          <li class="flex items-center space-x-2">
  <span class="w-6 h-6 flex items-center justify-center rounded-full 
    {{ 'bg-blue-600 text-white' if request.endpoint=='upload.upload_index' else 'bg-gray-300 text-gray-700' }}">
    1
  </span>
  <a href="{{ url_for('upload.upload_index') }}"
     class="py-4 px-2 border-b-2 {{ 'border-blue-600 text-blue-600 font-semibold' if request.endpoint=='upload.upload_index' else 'border-transparent text-gray-700 hover:text-blue-600 hover:border-blue-600' }}">
    Validaciones
  </a>
</li>
<li class="flex items-center space-x-2">
  <span class="w-6 h-6 flex items-center justify-center rounded-full 
    {{ 'bg-blue-600 text-white' if request.endpoint=='generar_pedidos.generar_pedidos_index' else 'bg-gray-300 text-gray-700' }}">
    2
  </span>
  <a href="{{ url_for('generar_pedidos.generar_pedidos_index') }}"
     class="py-4 px-2 border-b-2 {{ 'border-blue-600 text-blue-600 font-semibold' if request.endpoint=='generar_pedidos.generar_pedidos_index' else 'border-transparent text-gray-700 hover:text-blue-600 hover:border-blue-600' }}">
    Generar Pedidos
  </a>
</li>
<li class="flex items-center space-x-2">
  <span class="w-6 h-6 flex items-center justify-center rounded-full 
    {{ 'bg-blue-600 text-white' if request.endpoint=='consolidar_compras.consolidar_compras_index' else 'bg-gray-300 text-gray-700' }}">
    3
  </span>
  <a href="{{ url_for('consolidar_compras.consolidar_compras_index') }}"
     class="py-4 px-2 border-b-2 {{ 'border-blue-600 text-blue-600 font-semibold' if request.endpoint=='consolidar_compras.consolidar_compras_index' else 'border-transparent text-gray-700 hover:text-blue-600 hover:border-blue-600' }}">
    Consolidar Compras
  </a>
</li>


          <!-- Spacer y botón de logout -->
          <li class="ml-auto">
            <a href="{{ url_for('auth.logout') }}"
               class="flex items-center py-4 px-2 text-red-600 hover:text-red-800">
              Cerrar sesión
            </a>
          </li>

        {% else %}
          <!-- Sin login: solo Login -->
          <li>
            <a href="{{ url_for('auth.login') }}"
               class="flex items-center py-4 px-2 border-b-2 {{ 'border-blue-600 text-blue-600' if request.endpoint=='auth.login' else 'border-transparent text-gray-700 hover:text-blue-600 hover:border-blue-600' }}">
              Iniciar sesión
            </a>
          </li>
        {% endif %}

      </ul>
    </div>
  </nav>

  <!-- Contenido de cada página -->
  <main class="p-4">
    {% block content %}{% endblock %}
  </main>

</body>
</html>


